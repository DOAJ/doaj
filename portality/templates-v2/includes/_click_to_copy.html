<style>

</style>

<button type="button" class="click-to-copy" id="click-to-copy--{{ value_elem_id }}" aria-label="Copy {{ value_elem_id }} to clipboard">
    <i data-feather="copy" aria-hidden="true"></i><span id="click-to-copy--confirmation" style="display: none">Value copied!</span>
</button>

<script type="text/javascript">
$(function () {
    const $copySpan = $('#click-to-copy--{{ value_elem_id }}');
    const $valueElem = $('#{{ value_elem_id }}');

    $copySpan.on('click', () => {
        if (!$valueElem.length) return;
        const textToCopy = $valueElem.val() || $valueElem.text();
        navigator.clipboard.writeText(textToCopy)
        .then(() => {
            const $msg = $('<span class="click-to-copy--confirmation">Value copied!</span>');
            $copySpan.after($msg);
            setTimeout(() => {
                $msg.remove();
            }, 3000);
        })
        .catch(err => {
            console.error('Failed to copy:', err);
        });
    });
});
</script>

